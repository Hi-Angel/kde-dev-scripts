#compdef kcmshell

local i tmp
for i in `echo $KDEDIRS | sed 's,:, ,'`; do
	tmp=(`find $i/share/applnk/Settings/ -name '*.desktop' 2>/dev/null | sed 's,.*/,,' | sed 's,\.desktop,,'`)
	compadd -a tmp
done

return 1
